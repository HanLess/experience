#### 小程序加载阶段

- 白屏
- 首帧：开始有内容出现
- 有内容呈现：有一屏完整内容，但事件没有绑定，图片没有加载等
- 完成

#### 性能指标

- 总时常：点击小程序入口 -> dom 加载完成
- 上屏时长： android：首帧；ios：documeng.body 内容填充完成
- 安装时长：小程序包下载解压
- 框架启动时长：端上的启动时长，启动后由前端框架（百度：swanjs）接手

## 性能优化策略

#### 减小包体积（减小安装时长）

- 减少资源（百度要求资源数小于 200），减小图片体积
- 分包：分包会增加主包逻辑层的内容，会导致主包变大，所以分包建议彻底

#### 主从通信（视图 <--> 逻辑）

导致通信的 API：

- setData
- onPageScroll
- intersectionObserver
- selectorQuery

#### 体验 NA 化

- 善用缓存
- loading、骨架屏

#### 代码复用

自定义组件对性能的影响

- 样式会单独加载
- 要在逻辑层和视图层单独创建实例
- 有可能用到的多个组件，同时高频率的使用 setData

追求极致的性能，舍弃开发效率，可以使用 include , import 引入页面结构、样式

#### 图文长列表

- 懒加载
- 循环渲染的时候使用 key





