<h3>普通登录流程</h3>

（1）通过手机号获取验证码，生成 token

（2）token入表，存缓存，缓存事件30天，且token解密后会得到有效时间

（3）token信息返回给前端，每次调取接口通过拦截器校验登录信息

（4）登录信息的校验是校验token是否有效

<h3>校验token对象是否有效：</h3>

（1）判断token中携带的用户信息是否有效

（2）判断ticket（返给前端的token字符串）是否过期，即当前时间是否超过过期时间；

（3）判断token是否有效（用传进来的token信息去查缓存和表里的token，能查到即有效）

（4）判断token中携带的login时间与（用户注销，更换手机号等原因导致的）退出登录时间，如果login时间小，则需要做退出登录处理

<h3>绑定微信登录流程</h3>

（1）客户端需要拿到必要的信息，包括 openId，unionId，appId，code等以及用户手机号（可以加一步短信验证）

（2）用手机号查user

（3）将微信信息与user进行绑定

（4）在查询绑定关系的时候根据 用户信息 和 微信信息

<h3>表设计</h3>

用户表：用来记录用户信息

token表：用来记录用户登录的token信息

登录表：用来记录用户登录信息（登录时间，来源）

一个用户可以有多个token
