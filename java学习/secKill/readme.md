dao层的工作：接口设计和sql语句开发，逻辑代码和sql分离，所有业务逻辑在service层开发

service层：dto包，类似entity包，但entity存放的是业务的数据类实体（一个张表对应一个类），dto主要存放的是web与service之间的数据传递类

高并发优化（分布式）：

1 原子计数器（redis层）

2 记录行为消息（MQ消息队列）

3 落地（mysql数据层）

缺点：运维成本，稳定性，开发维护复杂，幂等性难以保证（重复秒杀），整体架构复杂

为什么不用mysql解决性能问题：

瓶颈分析：如果不用事务，mysql的性能并不差，但事务处理会造成大量阻塞，以秒杀事务举例（减库存，保存成功信息）

一个秒杀请求进来，执行事务的过程中，第二个请求线程要想执行此事务就需要等待（行级锁），就造成了block，在第一个线程的事务commit或rollback之前，

所有的线程都要排队，知道第一个线程的事务执行结束，此过程以此类推，所有的秒杀请求变成的串行处理。

瓶颈就在事务的处理：减库存 -> 执行mysql（网络延时），gc -> 保存成功信息 -> 执行mysql（网络延时），gc。这之间的所有网络与gc延时都会体现在线程等待的时间上

优化方向：因为行级锁会在事务commit之后释放，所以需要减少线程对行级锁的持有时间
